/**
 * @file Firestore Security Rules
 * @core_philosophy This ruleset enforces public read access while restricting writes to prevent unauthorized data modification.
 * @data_structure The database consists of Tambola games and their called numbers, organized hierarchically.
 * @key_security_decisions Public read access is enabled. Write access is restricted to prevent unauthorized changes.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to Tambola games and restricts write access.
     * @path /tambola_games/{gameId}
     * @allow (get, list) Any user can read Tambola game data.
     * @deny (create, update, delete) No one can create, update, or delete Tambola game data.
     * @principle Public read, restricted write.
     */
    match /tambola_games/{gameId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Grants public read access to called numbers within a Tambola game and restricts write access.
     * @path /tambola_games/{gameId}/called_numbers/{numberId}
     * @allow (get, list) Any user can read called number data.
     * @deny (create, update, delete) No one can create, update, or delete called number data.
     * @principle Public read, restricted write.
     */
    match /tambola_games/{gameId}/called_numbers/{numberId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}